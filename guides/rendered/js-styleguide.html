<p>&quot;Programs are meant to be read by humans and only incidentally for computers to execute.&quot; — H. Abelson and G. Sussman (in &quot;Structure and Interpretation of Computer Programs&quot;)</p>
<p>These coding standards are loosely based on the recommendations provided by <a href="http://javascript.crockford.com/code.html">Douglas Crawford</a> and common engineering best practices. In order for pull requests to be approved, the following standards must be followed.</p>
<h2 class="page-title title lg" id="general-guidelines">General Guidelines</h2></a><ul>
<li><a href="http://en.wikipedia.org/wiki/Don&#39;t_repeat_yourself">DRY Principle</a></li>
<li><a href="http://en.wikipedia.org/wiki/Self-documenting">Self Documenting Code</a></li>
<li><a href="http://googletesting.blogspot.com/2008/08/by-miko-hevery-so-you-decided-to.html">Code should be concise and easily testable</a></li>
<li><a href="http://en.wikipedia.org/wiki/Reinventing_the_wheel">Re-inventing the Wheel</a> - We have included <a href="http://lodash.com/docs">lodash</a> for common tasks in JavaScript.  Utilize utility methods whenever applicable.</li>
<li><a href="http://en.wiktionary.org/wiki/smell_test">Smell Test</a> - All code submissions are subject to the judgment and opinion of the reviewer.</li>
</ul>
<h2 class="page-title title lg" id="basic-formatting">Basic formatting</h2></a><ul>
<li>4 spaces for indention. No tabs.</li>
<li>Semicolons at the end of every functional line</li>
<li>Line length should be under 120 characters</li>
<li>Single quote, not double</li>
<li>Variables can be declared with a single var, or multiple</li>
<li>Spaces in function declarations</li>
<li>Spaces between logical &amp;&amp; and ||</li>
</ul>
<pre><code>var a, b, c;
var name = &#39;test&#39;;
var example = function (argA, argB) {
    ...
};
var test = (condition) ? true : false;
if (condition &amp;&amp; otherCondition) {
    //do something awesome
    a = 1;
}
</code></pre><h2 class="page-title title lg" id="documentation">Documentation</h2></a><p><strong>Profusely comment your code</strong>. Self-documenting code is important, but not all code is self-explanatory. Inline comments do wonders to help developers understand the purpose of the code. Even if it only saves a developer five seconds, it&#39;s still worth it.</p>
<h3 class="title" id="api-docs">API Docs</h3></a><p><a href="https://github.com/angular/angular.js/wiki/Writing-AngularJS-Documentation">Ngdoc</a> is used to generate documentation. All directives, services, functions, etc should be documented using ngdoc.</p>
<h2 class="page-title title lg" id="variable-conventions">Variable conventions</h2></a><ul>
<li>Variable names should be <a href="http://en.wikipedia.org/wiki/CamelCase#Programming_and_coding">camel case</a></li>
<li>Refrain from using <a href="http://en.wikipedia.org/wiki/Global_variables">global variables</a></li>
<li>Implied global variables should <strong>never</strong> be used (ie: <code>myGlobalVar = &#39;Hello world&#39;;</code>). Use <code>window.myGlobalVar</code> if you need to make something global.</li>
<li>Constants should be <a href="http://en.wikipedia.org/wiki/All_caps">Capital Case</a></li>
</ul>
<h2 class="page-title title lg" id="function-conventions">Function conventions</h2></a><ul>
<li>Function names should be <a href="http://en.wikipedia.org/wiki/CamelCase#Programming_and_coding">camel case</a></li>
<li>Function names should be verbs if the function changes the state of the program, and nouns if they&#39;re used to return a certain value. They should describe what the function does, not what calls the function.</li>
<li>Minimize Global functions</li>
<li>Keep functions short.</li>
</ul>
<h2 class="page-title title lg" id="module-definitions">Module Definitions</h2></a><p>To avoid namespace conflicts, each component is a separate Angular module. For example, all functionality for rx-form lives under the &#39;encore.ui.rxForm&#39; module.</p>
<p>To define this module, add a line to your <code>rxMyComponent.js</code> file similar to:
<code>angular.module(&#39;encore.ui.rxMyComponent&#39;, [myDependency]);</code></p>
<p>If you&#39;ve used our <a href="https://github.com/rackerlabs/encore-ui/blob/master/ui-setup.md#component-scaffolding">Component Scaffolding</a> to create your module, then this will have been done automatically.</p>
<h2 class="page-title title lg" id="jshint-and-jscs">JSHint and JSCS</h2></a><p>For details on what JSHint and JSCS rules we follow, take a look at the <a href="../.jshintrc">.jshintrc file</a> and <a href="../.jscs.json">.jscs.json</a></p>
<p>All errors from these tools must be resolved before a Pull Request can be accepted.</p>
<h2 class="page-title title lg" id="unit-testing">Unit Testing</h2></a><p>&quot;TDD doesn&#39;t mean you&#39;re better, it just means you catch your mistakes very quickly.&quot; <a href="https://twitter.com/klamping/status/314765397184368640">paraphrased @jamesshore</a></p>
<p>Testing is just as much about code quality as it is about building a robust regression test suite. Code that is testable is usually more module, less tightly-coupled and more robust.</p>
<ul>
<li>All new functionality must have proper unit tests</li>
<li>Line covereage should be at 80% or higher</li>
</ul>
<h2 class="page-title title lg" id="midway-testing">Midway Testing</h2></a><p>For any new functionality that can&#39;t be tested via unit tests (or is outside of the scope of unit tests), midway tests should be created. We do not currently have code coverage stats for Midway tests, so it&#39;s up to you to determine what the appropriate level of testing is.</p>
<p>It&#39;s a good rule of thumb that any new directives should have new midway tests.</p>
<p><strong>For more on both unit and midway testing, read <a href="https://github.com/rackerlabs/encore-ui/blob/master/testing.md">the EncoreUI Testing documentation</a>.</strong></p>
<h2 class="page-title title lg" id="other-guidelines">Other Guidelines</h2></a><ul>
<li><a href="http://www.youtube.com/watch?v=c-kav7Tf834">Write Maintainable Code</a></li>
<li>The less code on one line, the easier it is to read and the less likely you’ll encounter a merge conflict.</li>
<li>Adding <code>&#39;use strict&#39;;</code> to your files isn&#39;t necessary, as JSHint and this styleguide take care of most everything that <code>use strict</code> helps with.</li>
</ul>
<h3 class="title" id="name-anonymous-functions-but-really-avoid-using-them">Name Anonymous Functions (but really avoid using them)</h3></a><p>Anonymous functions can make it hard to debug code, especially when they are nested. To avoid this, anytime an anonymous function is used, name that function:</p>
<pre><code>element(&#39;.foo&#39;).on(&#39;mouseover&#39;, function showAlert () {
    alert(&#39;I have a name!&#39;);
});
</code></pre><p>It is generally preferred that anonymous functions aren&#39;t used and that you declare your functions outside of whatever is calling it. This makes code more modular, easier to re-use and can help make unit testing easier.</p>
<p>Taking the code from before, it now looks like:</p>
<pre><code>function showAlert () {
    alert(&#39;I have a name!&#39;);
}
element(&#39;.foo&#39;).on(&#39;mouseover&#39;, showAlert);
</code></pre><h3 class="title" id="type-checks">Type Checks</h3></a><p>See <a href="http://contribute.jquery.org/style-guide/js/#type-checks">the jQuery Style Guide</a> for guidance on checking data types of variables. For instances where using the <code>jQuery</code> object is recommended, instead use the matching <a href="https://lodash.com">Lo-Dash</a> utility method:</p>
<ul>
<li><a href="http://lodash.com/docs#isPlainObject">Plain Object</a>: <code>_.isPlainObject(object)</code></li>
<li><a href="http://lodash.com/docs#isFunction">Function</a>: <code>_.isFunction( object )</code></li>
<li><a href="http://lodash.com/docs#isArray">Array</a>: <code>_.isArray( object )</code></li>
</ul>
<h3 class="title" id="resources">Resources</h3></a><ul>
<li><a href="https://github.com/airbnb/javascript">Airbnb JavaScript Style Guide</a></li>
<li><a href="http://google-styleguide.googlecode.com/svn/trunk/javascriptguide.xml">Google&#39;s JavaScript Style Guide</a></li>
</ul>
