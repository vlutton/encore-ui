<rx-page title="'Forms'">
  <div class="clear">
    <h2 class="title lg">Directives</h2>
    <div class="component-description">
      <ul class="list">
        <li>Many of the <code>rxForm</code> directives are designed for layout and positioning. However, there are some that are for stylistic purposes.</li>
        <li>See <a href="ngdocs/index.html#/api/rxForm">rxForm API Documentation</a> for a more comprehensive list of available directives.</li>
      </ul>
    </div>

    <h3 class="title">Labels and Inputs</h3>
    <div class="component-description">
      <ul class="list">
        <li>Do not confuse the rxFieldName element with an HTML label element.
          <ul>
            <li>rxFieldName is a descriptive design element for a particular form field.</li>
            <li>An HTML label is used for accessibility.</li>
          </ul>
        </li>
        <li>Please use the <code>&lt;label for="formControlId"&gt;</code> format when defining your HTML labels.
          <ul>
            <li>
              The <code>for</code> attribute connects the label to an appropriate form control so that when the label is clicked
              (wherever it is placed in the DOM), it will focus or activate its corresponding form control.
            </li>
            <li>
              <strong class="msg-warn">DO NOT wrap the control within a label element.</strong>
              <ul>
                <li>CSS does not have proper selectors to style label text based on control state.</li>
              </ul>
            </li>
            <li>Most of the time, an HTML label should be placed around text in an appropriate rxFieldName element.</li>
            <li>Inline HTML label elements should only be used with radios, checkboxes, and toggle switches.
              <ul>
                <li>Place the label <strong>immediately after the form control</strong>.
                  <ul>
                    <li>This allows developers/designers to style the label based on the state of the control.</li>
                    <li>
                      See <a href="#/components/rxCheckbox">rxCheckbox</a>, <a href="#/components/rxRadio">rxRadio</a>,
                      and <a href="#/components/rxForm">rxForm</a> for markup examples.
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li>
          In contrast to its predecessor (rxFormItem), rxField and children provide the flexibility to create form field inputs that make use
          of one or more controls.
          <ul>
            <li>See "Advanced Controls" in <a href="#/components/rxForm">rxForm</a> demo for examples.</li>
          </ul>
        </li>
      </ul>
    </div>

    <h3 class="title">Error Messages</h3>
    <div class="component-description">
      <ul>
        <li>Inline Error messages should make use of the <a href="ngdocs/index.html#/api/rxForm.directive:rxInlineError">rxInlineError</a> directive.</li>
        <li>This directive is styled with bold, red text and is not constrained by DOM hierarchy, so you may place it wherever it is necessary.</li>
      </ul>
    </div>

    <h3 class="title">Help Text</h3>
    <div class="component-description">
      <ul>
        <li>Help text should make use of the <a href="ngdocs/index.html#/api/rxForm.directive:rxHelpText">rxHelpText</a> directive.</li>
        <li>This directive is styled in a slightly smaller, italicized font and is not constrained by DOM hierarchy, so you may place it wherever it is necessary.</li>
      </ul>
    </div>

    <h3 class="title">Buttons</h3>
    <div class="component-description">
      <ul>
        <li>
          Reference the <a href="#/styleguide/buttons">links and buttons</a> section
          and the <a href="#/styleguide/layouts/3">Create Form</a> example for details
          about how we style and color buttons.
          <ul>
            <li>
              In a nutshell, submit buttons should use the green <code>submit</code>
              class unless you are performing a destructive action, in which case, you
              should use the <code>negative</code> class.
            </li>
          </ul>
        </li>
        <li>If you need to use a button in your form field for auxiliary purposes, use the default blue.</li>
      </ul>
    </div>

    <h3 class="title clear">Selects</h3>
    <div class="component-description">
      <ul>
        <li>For single item selection, please use the <a href="#/components/rxSelect">rxSelect</a> component.</li>
        <li>For multi-item selection, please use the rxMultiSelect element defined in the <a href="#/components/rxSelectFilter">rxSelectFilter</a> component.</li>
      </ul>
    </div>

    <h3 class="title clear">Checkboxes</h3>
    <div class="component-description">
      <ul>
        <li>Please use the <a href="#/components/rxCheckbox">rxCheckbox</a> component for checkbox controls.</li>
        <li>
          If you intend to use a label element, place it <strong>immediately after the rxCheckbox</strong>
          so that CSS rules may style the label when the control is disabled.
        </li>
        <li><strong class="msg-warn">DO NOT wrap rxCheckbox in a label element.</strong></li>
      </ul>
    </div>

    <h3 class="title clear">Toggle Switches</h3>
    <div class="component-description">
      <ul>
        <li>Please use the <a href="#/components/rxToggleSwitch">rxToggleSwitch</a> component for toggle switch controls.</li>
        <li>
          If you intend to use a label element, place it <strong>immediately after the rxToggleSwitch</strong>
          so that CSS rules may style the label when the control is disabled.
        </li>
        <li><strong class="msg-warn">DO NOT wrap rxToggleSwitch in a label element.</strong></li>
        <li>
          <strong class="msg-info">NOTE:</strong> At the time of writing this documentation,
          rxToggleSwitch does not toggle when clicking its label. However, CSS styles are
          still applied if the control is disabled within an <code>rxForm</code>.
        </li>
        <li>For consistency, and future compatibility, assume that rxToggleSwitch + label works as expected.</li>
      </ul>
    </div>

    <h3 class="title clear">Radios</h3>
    <div class="component-description">
      <ul>
        <li>Please use the <a href="#/components/rxRadio">rxRadio</a> component for radio controls.</li>
        <li>
          If you intend to use a label element, place it <strong>immediately after the rxRadio</strong>
          so that CSS rules may style the label when the control is disabled.
        </li>
        <li><strong class="msg-warn">DO NOT wrap rxRadio in a label element.</strong></li>
      </ul>
    </div>
    <rx-styleguide code-url="styleguide/forms/checkboxes.html"></rx-styleguide>

    <h3 class="title">Using a Character Counter</h3>
    <div class="component-description">
      <ul class="list">
        <li>
          Character counters provide color feedback to the user in addition to numeric feedback. As a user approaches
          the character limit, the numeric value turns from gray to yellow, then yellow to red.
        </li>
        <li>
          The framework provides styles for a character counter, including a generic wrapper
          (<code>.counted-input-wrapper</code>) with the proper width needed to position the character counter in
          relation to a textarea.  Note that if you need a different textarea width for specific use cases in a
          project, a custom wrapper class and textarea width can be set.
        </li>
        <li>
          Counters are most often used with textareas, where there is enough space for a user to type several sentences.
          However, there are places where it has been used on text inputs, as well. If you are going to use
          rxCharacterCount on any input other than <code>textarea</code> or <code>input[type="text"]</code>,
          be aware that the framework was not designed to support these fields and you may experience unexpected results.
          Please test your code heavily before shipping.
        </li>
        <li>
          See <a href="#/components/rxCharacterCount/">rxCharacterCount</a> for more specific documentation about
          implementing a counter on a textarea or text input field.
        </li>
      </ul>
    </div>

    <h3 class="title">Disabled state</h3>
    <div class="component-description">
      <ul class="list">
        <li>
          When an input is disabled, styles are automatically applied to gray out
          the field with a "not-allowed" pointer style.
        </li>
        <li>
          When label rules (seen above) are applied correctly to a radio, checkbox,
          or toggle switch, the label will also get some styling.
        </li>
      </ul>
    </div>
    <rx-styleguide code-url="styleguide/forms/disabled.html"></rx-styleguide>

    <h3 class="title">Form Validation</h3>
    <div class="component-description">
      <ul class="list">
        <li>
          Because Encore is built on Angular, we leverage ngModel directives used for validation.
          As a result, the EncoreUI framework has custom CSS styling if an element has the
          "ng-invalid" and/or "ng-dirty" classes (which are dynamically added by ngModel validation logic).
        </li>
        <li>Some components will style based on both classes being present (typical use case), while others will only use <code>ng-invalid</code>.</li>
        <li><strong>NOTE:</strong> Creating an EncoreUI-specific design pattern for placement of form validation messages is on our roadmap.</li>
        <li><strong class="msg-info">NOTE:</strong> At present, there are no styles for invalid toggle switches.</li>
      </ul>
    </div>
    <rx-styleguide code-url="styleguide/forms/validation.html"></rx-styleguide>


    <h2 class="title lg">Saving Form Data</h2>

    <h3 class="title">Saving In-Progress Form State</h3>
    <div class="component-description">
      <ul class="list">
        <li>
          When a user is filling out a form, it often makes sense to automatically save the state of that form,
          in case they navigate away and want to return and continue. The framework has support for this with the
          rxAutoSave service.
        </li>
        <li>rxAutoSave interacts exclusively with your model layer. Your UI/template code will be unaware that its state is being saved.</li>
        <li>See <a href="#/components/rxMisc/">rxAutoSave</a> (which lives within the rxMisc component) for further details.</li>
      </ul>
    </div>
    <rx-styleguide code-url="styleguide/forms/autosave.html"></rx-styleguide>

    <h3 class="title">Manual Form Saving</h3>
    <div class="component-description">
      <ul class="list">
        <li>When an entity is being edited in place, rather than submitting an edit or create form, an informative notification and a save button are used.</li>
        <li>The notification should be put in the page stack and should only be shown after a change has been made to the form (e.g. not on page load).</li>
        <li>The subtitle of the page should indicate when the form was last saved and contain the save button.</li>
      </ul>
    </div>
    <rx-styleguide code-url="styleguide/forms/manual-saving.html"></rx-styleguide>


    <h2 class="title lg" id="designpatterns">Design Patterns within Encore</h2>
    <ul class="list">
      <li>Forms can be used on their own page. You can see this in Encore when you create a new object such as a Cloud Server or a Database under Encore Cloud.</li>
      <li>Forms are also used within modals. This can be see when modifying content that requires form fields such as actions performed on a Cloud Server instance.</li>
      <li><a href="#/styles/wells">Wells</a> can be used to create additional context for the form.</li>
    </ul>

    <h2 class="title lg" id="roadmap">UI Roadmap / Possible Future-work</h2>
    <ul class="list">
      <li>Fleshing out a design pattern for edit states.
        <ul>
          <li>
            Up until now, the editing of content has been relegated to using modals to edit individual line items.
            As a result, different products have handled the concept of an edit state differently.
          </li>
          <li><span class="msg-info">NOTE:</span> There should be conformity for this, but we have not designed a user pattern yet.</li>
        </ul>
      </li>
    </ul>
  </div>
</rx-page>

