<div class="preprod rx-notifications" rx-if-environment="preprod">
    <div class="rx-notification notification-warning">
        <span class="notification-text">You are using a pre-production environment that has real, live production data!</span>
    </div>
</div>
<div class="rx-app" ng-class="{collapsible: collapsibleNav === 'true', collapsed: collapsedNav, preprod: isPreProd}" ng-cloak>
    <nav class="rx-app-menu">
        <header class="site-branding">
            <h1 class="site-title">{{ siteTitle || 'Encore' }}</h1>
            <button class="collapsible-toggle btn-link" ng-if="collapsibleNav === 'true'" rx-toggle="$parent.collapsedNav" title="{{ (collapsedNav) ? 'Show' : 'Hide' }} Main Menu">
                <span class="visually-hidden">{{ (collapsedNav) ? 'Show' : 'Hide' }} Main Menu</span>
                <div class="double-chevron" ng-class="{'double-chevron-left': !collapsedNav}"></div>
            </button>
            <div class="site-options">
                <button class="btn-link site-option site-logout" rx-logout="{{logoutUrl}}">Logout</button>
            </div>
        </header>
        <nav class="rx-app-nav">
            <div ng-repeat="section in appRoutes.getAll()" class="nav-section nav-section-{{ section.type || 'all' }}">
                <h2 class="nav-section-title">{{ section.title }}</h2>
                <rx-app-nav items="section.children" level="1"></rx-app-nav>
            </div>
        </nav>
        <div class="rx-app-help clearfix">
            <rx-feedback ng-if="!hideFeedback"></rx-feedback>
        </div>
    </nav>
    <div class="rx-app-content" ng-transclude></div>
</div>
