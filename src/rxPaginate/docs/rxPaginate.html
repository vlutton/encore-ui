<div ng-controller="rxPaginateCtrl">
    <h2 class="title">UI-Based Pagination</h2>
    <table class="table-striped demo-ui-pagination">
        <thead>
            <tr>
                <th class="column-title" style="width:10em;">Name</th>
                <th class="column-title">OS</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="server in servers | orderBy: sorter.predicate:sorter.reverse | Paginate:pager ">
                <td>
                    {{server.name}}
                </td>
                <td>{{server.os}}</td>
            </tr>
        </tbody>
        <tfoot>
            <tr class="paginate-area">
                <td colspan="2">
                    <rx-paginate page-tracking="pager"></rx-paginate>
                </td>
            </tr>
        </tfoot>
    </table>

    <p>Use these buttons to adjust the number of pages displayed. The pagination will hide when there is only one page available.</p>
    <p>
        <button ng-click="removeServers()" class="button sm negative">Remove first 2 servers</button>
        <button ng-click="addServers()" class="button sm positive">Add 2 servers</button>
    </p>
    
    <h2 class="title">API-Based Pagination</h2>
    <p>The API used by this demo is returning 100 items more than the user's selected `itemsPerPage`. If the user's `itemsPerPage` is 25, then the API will return 125 itmems on each request. This means with the default `itemsPerPage` of 25, five pages of results are coming back at a time. You should be able to click through pages 1-5 without a loading message, and then the loading message will appear for page 6.</p>

    <p>Click the "Refresh" button to see how the current page can be reloaded without the user interacting with the <code>&lt;rx-paginate&gt;</code> buttons.</p>

    <p>Enter a search string of "error" to see the default error handling.</p>
   
    <button ng-click="pagedServers.refresh()" class="button sm">Refresh</button>
    <table rx-floating-header rx-loading-overlay class="table-striped demo-api-pagination">
        <thead>
            <tr>
                <th colspan="2">
                    <input placeholder="Filter by any..." style="font-style: italic" ng-model="data.searchText">
                    <button class="pull-right button" ng-click="clearFilter()">
                        Clear Filter
                    </button>
                </th>
            </tr>
            <tr>
                <th class="column-title" style="width:10em;">
                    <rx-sortable-column
                        sort-method="sortCol(property)"
                        sort-property="name"
                        predicate="sort.predicate"
                        reverse="sort.reverse">
                        Name
                    </rx-sortable-column>
                </th>
                <th class="column-title">
                    <rx-sortable-column
                        sort-method="sortCol(property)"
                        sort-property="os"
                        predicate="sort.predicate"
                        reverse="sort.reverse">
                        OS
                    </rx-sortable-column>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="server in pagedServers.items">
                <td>
                    {{server.name}}
                </td>
                <td>{{server.os}}</td>
            </tr>
        </tbody>
        <tfoot>
            <tr class="paginate-area">
                <td colspan="2">
                    <rx-paginate
                        page-tracking="pagedServers"
                        server-interface="serverInterface"
                        error-message="Error loading page!"
                        filter-text="data.searchText"
                        sort-column="sort.predicate"
                        sort-direction="sort.reverse">
                    </rx-paginate>
                </td>
            </tr>
        </tfoot>
    </table>
</div>
